# 07. 연산자

## 7.1 산술 연산자

- 피연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 만듦
- 산술이 불가능한 경우, NaN 반환

### 7.1.1 이항 산술 연산자

- 2개의 피연산자를 산술 연산하여 숫자 값을 만듦
- 덧셈(+), 뺄셈(-), 곱셈(\*) 등

### 7.1.2 단항 산술 연산자

- 1개의 피연산자를 산술 연산하여 숫자 값을 만듦
- 증가(++), 감소(--) 등
- 증가, 감소 연산자 위치에 따른 연산법이 다름

```javascript
var x = 5,
  result;

result = x++;
console.log(result, x); // 5 6

result = ++x;
console.log(result, x); // 7 7
```

### 7.1.3 문자열 연결 연산자

- 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작

```javascript
"1" + 2; // '12'
1 + "2"; // '12'

1 + true; // 2
1 + false; // 1
1 + null; // 1
```

## 7.2 할당 연산자

- 우항에 있는 피연산자의 평가 결과를 좌항에 있는 변수에 할당

```javascript
var x;

x = 10;
console.log(x); // 10

x += 5; // 15
x -= 5; // 10
x %= 5; // 0

var str = "My name is ";
str += "Park";
console.log(str); // 'My name is Park'
```

- 할당문은 값으로 평가되는 표현식인 문

```javascript
var a, b, c;

a = b = c = 0; // 연쇄 할당, 오른쪽에서 왼쪽으로 진행
console.log(a, b, c); // 0 0 0
```

## 7.3 비교 연산자

- 좌항 우항을 비교 후 결과를 불리언 값으로 반환

### 7.3.1 동등/일치 비교 연산자

- 동등비교(==), 일치비교(===), 부동등비교(!=) 등
- 동등은 값만, 일치는 값과 타입 비교

```javascript
5 == 5; // true

5 == "5"; // true    동등비교는 암묵적 타입 변환을 통해 타입을 일치시킨 후 비교
```

- 동등 비교는 예측하기 어렵고 실수하기 쉬움.  
  따라서, 동등 비교보단 일치 비교 연산자 사용 추천

```javascript
5 == 5; // true

5 == "5"; // false

NaN === NaN; //false (NaN은 자신과 일치하지 않는 유일한 값)

Number.isNaN(NaN); // true
Number.isNaN(10); // false
Number.isNaN(1 + undefined); // true

0 === -0; // true
0 == -0; // true
```

### 7.3.2 대소 관계 비교 연산자

- 피연산자의 크기를 비교하여 불리언 값을 반환

```javascript
5 > 0; // true
5 > 5; // false
5 >= 5; // true
5 <= 5; // true
```

## 7.4 삼항 조건 연산자

- 조건식의 평가 결과에 따라 반환할 값을 결정
- 조건식 ? 조건식이 true일 때 반환할 값 : 조건식이 false일 때 반환할 값

```javascript
var x = 2;
var result = x % 2 ? "홀수" : "짝수"; // 2 % 2는 0   0은 false로 암묵적 타입 변환

console.log(result); // 짝수
```

- 삼항 조건 연산자 표현식은 값으로 평가할 수 있는 표현식인 문 (if ... else 문으로 할 경우 표현식이 아닌 문)

## 7.5 논리 연산자

- 우항과 좌항의 피연산자를 논리 연산

```javascript
// 논리합(||)
true || true; // true
true || false; // true
false || false; // false

// 논리곱(&&)
true && true; // true
true && false; // false
false && false; // false

// 논리 부정(!)
!true; // false
!false; // true
```

- 드 모르간의 법칙

```javascript
!(x || y) === (!x && y);
!(x && y) === (!x || y);
```

## 7.6 쉼표 연산자

- 왼쪽 피연산자부터 차례대로 피연산자를 평가하고 마지막 피연산자의 평가 결과를 반환

```javascript
var x, y, z;
(x = 1), (y = 2), (z = 3); // 3
```

## 7.7 그룹 연산자

- 소괄호로 피연산자를 감싼 표현식을 가장 먼저 평가 (연산자 우선순위 조절)

```javascript
10 * 2 + 3; // 23
10 * (2 + 3); // 50
```

## 7.8 typeof 연산자

- 피연산자의 데이터 타입을 문자열로 반환

```javascript
typeof ""; // 'string'
typeof 1; // 'number'
typeof NaN; // 'number'
typeof true; // 'boolean'
typeof undefined; // 'undefined'
typeof Symbol(); // 'symbol'
typeof null; // 'object' (자바스크립트 첫번째 버전의 버그, 기존 코드에 영향을 줄수 있기 때문에 아직 미수정)
typeof []; // 'object'
typeof function () {}; // 'function'
```

- 선언하지 않은 식별자를 typeof 하면 error가 아닌 undefined 반환 주의

## 7.9 지수 연산자

- 좌항의 피연산자를 밑, 우항의 피연산자를 지수로 거듭 제곱하여 숫자 값을 반환

```javascript
2 ** 2; // 4
2 ** 0; // 1
2 ** -2; // 0.25

// 지수 연산자 도입전 Math.pow 사용
Math.pow(2, 2); // 4
Math.pow(2, 0); // 1

(-5) ** 2; // 25  음수를 밑으로 사용하려면 괄호로 묶어야 함(안할 경우 SyntaxError 발생)

// 이항 연산자 중 우선순위 가장 높음
2 * 5 ** 2; // 50
```

## 7.10 그 외의 연산자

- 옵셔널 체이닝(?.), null 병합(??) 등등
- 다른 주제와 밀접 연관 해당 주제 장에서 소개 예정

## 7.11 연산자의 부수 효과

- 대부분의 연산자는 다른 코드에 영향 x
- 할당 연산자(=), 증가/감소 연산자(++/--), delete 연산자는 다른 코드에 영향을 주는 부수효과 존재

```javascript
var x;

// 변수 값이 변하는 부수 효과(x 변수를 사용하는 다른 코드에 영향)
x = 1;
console.log(x); // 1

// 피연산자 값을 변경하는 부수 효과(x 변수를 사용하는 다른 코드에 영향)
x++;
console.log(x); // 2

var o = { a: 1 };

// 객체의 프로퍼티를 삭제하는 부수효과 (o 객체를 사용하는 다른 코드에 영향)
delete o.a;
console.log(o); // {}
```

## 7.12 연산자 우선순위

- 여러 개의 연산자로 이뤄진 문이 실행될 때 연산자가 실행되는 순서

1. ()
2. new(매개변수 존재), ., [](프로퍼티 접근), ()(함수 호출), ?.(옵셔널 체이닝 연산자)
3. new(매개변수 미존재)
4. x++, x--
5. !x, +x, -x, ++x, --x, typeof, delete
6. \*\*(이항 연산자중 우선 순위 가장 높음)
7. \*, / , %
8. +, -
9. <=, <, >=, >, in, instanceof
10. ==, !=, ===, !==
11. ??(null 병합 연산자)
12. &&(논리곱)
13. ||(논리합)
14. ? ... : ... (삼항 연산자)
15. 할당 연산자(=, +=, -=, ...)
16. ,

- 그룹 연산자를 사용하여 우선순위를 명시적으로 조절하는 것을 권장

## 7.13 연산자 결합 순서

- 연산자의 어느쪽(좌항, 우항)부터 평가를 수행할 것인지의 순서
- 좌항 -> 우항  
  +, -, /, %, <=, <, >=, >, in, instanceof, &&, ||, ., [], (), ?, ?.
- 우항 -> 좌항  
  ++, --, 할당 연산자, !x, +x, -x, ++x, --x, typeof, delete, 삼항 연산자, \*\*
